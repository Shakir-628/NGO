@model NGO_Project.NGOEntities

@{
    Layout = "~/Views/Shared/_LayoutNGO.cshtml";
}

<!-- Tab Contents -->
<div class="tab-content" style="display:block;">
    <!-- Dashboard Cards -->
    <div class="dashboard-cards">
        <div class="dashboard-card">
            <div class="card-title">Active Requests <span class="card-icon">&#9432;</span></div>
            <div class="card-value">12</div>
            <div class="card-sub">+2 from last week</div>
        </div>
        <div class="dashboard-card">
            <div class="card-title">Inventory Items <span class="card-icon">&#9432;</span></div>
            <div class="card-value">247</div>
            <div class="card-sub">85% in stock</div>
        </div>
        <div class="dashboard-card">
            <div class="card-title">Active Donors <span class="card-icon">&#128101;</span></div>
            <div class="card-value">156</div>
            <div class="card-sub">+12 this month</div>
        </div>
        <div class="dashboard-card refused">
            <div class="card-title">Refused Requests <span class="card-icon">&#9888;</span></div>
            <div class="card-value">3</div>
            <div class="card-sub">Need attention</div>
        </div>
    </div>
    <!-- Frequently Refused Requests -->
    <div class="refused-requests-box">
        <div class="refused-title">&#9888; Frequently Refused Requests</div>
        <div class="refused-desc">Items refused 5+ times – consider posting to public feed</div>
        <div class="refused-list">
            <div class="refused-item">
                <div>
                    <div class="refused-item-title">Winter Blankets</div>
                    <div class="refused-item-desc">Refused 7 times in last month</div>
                </div>
                <button class="post-btn">Post to Feed</button>
            </div>
            <div class="refused-item">
                <div>
                    <div class="refused-item-title">Medical Supplies</div>
                    <div class="refused-item-desc">Refused 5 times in last month</div>
                </div>
                <button class="post-btn">Post to Feed</button>
            </div>
        </div>
    </div>
</div>
<div class="tab-content" style="display:none;">
    <div style="display: flex; justify-content: flex-end; margin-bottom: 18px;">
        <button id="openFeedModalBtn" style="background: #111827; color: #fff; border: none; border-radius: 8px; padding: 10px 22px; font-size: 1rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
            <span style="font-size:1.1rem;">&#128393;</span> Post New Request
        </button>
    </div>
    <div style="font-size: 2rem; font-weight: 700; margin-bottom: 18px; color: #111827;">Public Aid Feed Management</div>
    <div style="background: #fff; border-radius: 10px; border: 1.5px solid #e5e7eb; padding: 24px 24px 18px 24px; margin-bottom: 28px;">
        <div style="font-size: 1.25rem; font-weight: 700; margin-bottom: 4px; color: #111827;">Your Active Feed Posts</div>
        <div style="color: #6b7280; font-size: 1.05rem; margin-bottom: 18px;">Manage your organization's public aid requests</div>
        <div style="background: #fff; border-radius: 8px; border: 1.5px solid #e5e7eb; padding: 18px 18px 12px 18px; position: relative; margin-bottom: 10px;">
            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                <div>
                    <div style="font-size: 1.1rem; font-weight: 700; color: #111827; margin-bottom: 2px;">Emergency Food Relief - Flood Victims</div>
                    <div style="color: #374151; font-size: 1.01rem; margin-bottom: 10px;">Urgent need for dry rations for 200 families affected by recent floods in Sindh</div>
                    <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; align-items: center;">
                        <span style="background: #fee2e2; color: #b91c1c; border-radius: 8px; padding: 4px 12px; font-size: 0.95rem; font-weight: 600;">HIGH PRIORITY</span>
                        <span style="background: #e0e7ff; color: #3730a3; border-radius: 8px; padding: 4px 12px; font-size: 0.95rem; font-weight: 500;">Food & Nutrition</span>
                        <span style="background: #f3f4f6; color: #374151; border-radius: 8px; padding: 4px 12px; font-size: 0.95rem; display: flex; align-items: center; gap: 4px; font-weight: 500;">
                            <span style="color:#ec4899; font-size:1.1em;">&#128205;</span> Sindh, Pakistan
                        </span>
                    </div>
                    <div style="font-weight: 600; font-size: 1.05rem; margin-bottom: 6px;">Items Needed:</div>
                    <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 8px;">
                        <span style="background: #f3f4f6; color: #374151; border-radius: 16px; padding: 5px 14px; font-size: 0.98rem;">Rice</span>
                        <span style="background: #f3f4f6; color: #374151; border-radius: 16px; padding: 5px 14px; font-size: 0.98rem;">Flour</span>
                        <span style="background: #f3f4f6; color: #374151; border-radius: 16px; padding: 5px 14px; font-size: 0.98rem;">Cooking Oil</span>
                        <span style="background: #f3f4f6; color: #374151; border-radius: 16px; padding: 5px 14px; font-size: 0.98rem;">Lentils</span>
                    </div>
                    <div style="color: #6b7280; font-size: 0.98rem; margin-top: 8px;">Posted on: 5/25/2025</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <button style="background: #f3f4f6; border: none; border-radius: 6px; padding: 8px; cursor: pointer;">
                        <span style="font-size: 1.1rem; color: #374151;">&#9998;</span>
                    </button>
                    <button style="background: #f3f4f6; border: none; border-radius: 6px; padding: 8px; cursor: pointer;">
                        <span style="font-size: 1.1rem; color: #b91c1c;">&#128465;</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal for New Feed Request -->
    <div class="modal-bg" id="feedModalBg">
        <div class="modal-content">
            <h2>Post New Aid Request to Public Feed</h2>
            <p>Create a public request that donors can see and respond to</p>
            <form>
                <div class="modal-form-row">
                    <div class="modal-form-group">
                        <label for="requestTitle">Request Title</label>
                        <input id="requestTitle" type="text" placeholder="Emergency relief for..." />
                    </div>
                    <div class="modal-form-group">
                        <label for="category">Category</label>
                        <select id="category">
                            <option>Select category</option>
                            <option>Food & Nutrition</option>
                            <option>Clothing</option>
                            <option>Healthcare</option>
                            <option>Other</option>
                        </select>
                    </div>
                </div>
                <div class="modal-form-row">
                    <div class="modal-form-group">
                        <label for="urgency">Urgency Level</label>
                        <select id="urgency">
                            <option>Select urgency</option>
                            <option>High Priority</option>
                            <option>Medium Priority</option>
                            <option>Low Priority</option>
                        </select>
                    </div>
                    <div class="modal-form-group">
                        <label for="location">Location</label>
                        <input id="location" type="text" placeholder="Karachi, Sindh" />
                    </div>
                </div>
                <div class="modal-form-group" style="margin-bottom: 16px;">
                    <label for="itemsNeeded">Items Needed (comma separated)</label>
                    <input id="itemsNeeded" type="text" placeholder="Rice, Flour, Blankets, Medicine..." />
                </div>
                <div class="modal-form-group">
                    <label for="description">Description</label>
                    <textarea id="description" placeholder="Detailed description of the aid needed..."></textarea>
                </div>
                <div class="modal-form-actions">
                    <button type="submit" class="primary">Post to Feed</button>
                    <button type="button" class="secondary" id="cancelFeedModalBtn">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="tab-content">
    <div style="display: flex; justify-content: flex-end; margin-bottom: 18px;">
        <button id="showAddItemFormBtn" style="background: #111827; color: #fff; border: none; border-radius: 8px; padding: 10px 22px; font-size: 1rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
            <span style="font-size:1.1rem;">&#128230;</span> Add Item
        </button>
    </div>
    <div style="font-size: 2rem; font-weight: 700; margin-bottom: 18px; color: #111827;">Inventory Management</div>
    <div style="display: flex; gap: 18px; margin-bottom: 24px; flex-wrap: wrap;">
        <div style="background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 22px 28px 18px 28px; flex: 1 1 220px; min-width: 220px; max-width: 260px; border: 1.5px solid #e5e7eb;">
            <div style="color: #374151; font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">Total Items <span style='font-size:1.1rem; color:#6b7280;'>&#128230;</span></div>
            <div style="font-size: 2rem; font-weight: 700; color: #1d4ed8; margin-bottom: 2px;">2</div>
        </div>
        <div style="background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 22px 28px 18px 28px; flex: 1 1 220px; min-width: 220px; max-width: 260px; border: 1.5px solid #e5e7eb;">
            <div style="color: #374151; font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">Available <span style='font-size:1.1rem; color:#16a34a;'>&#10003;</span></div>
            <div style="font-size: 2rem; font-weight: 700; color: #1d4ed8; margin-bottom: 2px;">2</div>
        </div>
        <div style="background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 22px 28px 18px 28px; flex: 1 1 220px; min-width: 220px; max-width: 260px; border: 1.5px solid #e5e7eb;">
            <div style="color: #374151; font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">Low Stock Alert <span style='font-size:1.1rem; color:#f59e42;'>&#9888;</span></div>
            <div style="font-size: 2rem; font-weight: 700; color: #1d4ed8; margin-bottom: 2px;">0</div>
        </div>
    </div>
    <div id="addItemFormContainer" style="display:none; background: #fff; border-radius: 10px; border: 1.5px solid #e5e7eb; padding: 24px 24px 18px 24px; margin-bottom: 28px;">
        <div style="font-size: 1.25rem; font-weight: 700; margin-bottom: 4px; color: #111827;">Add New Inventory Item</div>
        <div style="color: #6b7280; font-size: 1.05rem; margin-bottom: 18px;">Record new donations received</div>
        <form>
            <div style="display: flex; gap: 18px; margin-bottom: 16px; flex-wrap: wrap;">
                <div style="flex:1 1 220px; display:flex; flex-direction:column;">
                    <label style="font-weight:600; font-size:1rem; margin-bottom:6px; color:#111827;">Item Name</label>
                    <input type="text" placeholder="Rice bags, Medicine..." style="padding:10px 12px; border:1.5px solid #e5e7eb; border-radius:6px; font-size:1rem; background:#f9fafb;" />
                </div>
                <div style="flex:1 1 220px; display:flex; flex-direction:column;">
                    <label style="font-weight:600; font-size:1rem; margin-bottom:6px; color:#111827;">Category</label>
                    <input type="text" placeholder="Food, Healthcare, Clothing..." style="padding:10px 12px; border:1.5px solid #e5e7eb; border-radius:6px; font-size:1rem; background:#f9fafb;" />
                </div>
            </div>
            <div style="display: flex; gap: 18px; margin-bottom: 16px; flex-wrap: wrap;">
                <div style="flex:1 1 220px; display:flex; flex-direction:column;">
                    <label style="font-weight:600; font-size:1rem; margin-bottom:6px; color:#111827;">Quantity</label>
                    <input type="number" placeholder="50" style="padding:10px 12px; border:1.5px solid #e5e7eb; border-radius:6px; font-size:1rem; background:#f9fafb;" />
                </div>
                <div style="flex:1 1 220px; display:flex; flex-direction:column;">
                    <label style="font-weight:600; font-size:1rem; margin-bottom:6px; color:#111827;">Unit</label>
                    <input type="text" placeholder="bags, pieces, kits..." style="padding:10px 12px; border:1.5px solid #e5e7eb; border-radius:6px; font-size:1rem; background:#f9fafb;" />
                </div>
            </div>
            <div style="display: flex; gap: 18px; margin-bottom: 16px; flex-wrap: wrap;">
                <div style="flex:1 1 220px; display:flex; flex-direction:column;">
                    <label style="font-weight:600; font-size:1rem; margin-bottom:6px; color:#111827;">Expiry Date (if applicable)</label>
                    <input type="date" style="padding:10px 12px; border:1.5px solid #e5e7eb; border-radius:6px; font-size:1rem; background:#f9fafb;" />
                </div>
            </div>
            <div style="margin-top: 18px; display: flex; gap: 12px;">
                <button type="submit" style="font-size: 1rem; font-weight: 600; border-radius: 6px; padding: 10px 22px; border: none; cursor: pointer; background: #111827; color: #fff;">Add Item</button>
                <button type="button" id="cancelAddItemFormBtn" style="font-size: 1rem; font-weight: 600; border-radius: 6px; padding: 10px 22px; border: 1.5px solid #e5e7eb; background: #fff; color: #111827;">Cancel</button>
            </div>
        </form>
    </div>
    <div style="background: #fff; border-radius: 10px; border: 1.5px solid #e5e7eb; padding: 24px 24px 18px 24px; margin-bottom: 28px;">
        <div style="font-size: 1.25rem; font-weight: 700; margin-bottom: 4px; color: #111827;">Current Inventory</div>
        <div style="color: #6b7280; font-size: 1.05rem; margin-bottom: 18px;">Track and manage your donation inventory</div>
        <div style="overflow-x:auto;">
            <table style="width:100%; border-collapse:collapse; font-size:1.05rem;">
                <thead>
                    <tr style="color:#6b7280; text-align:left; border-bottom:1.5px solid #e5e7eb;">
                        <th style="padding:10px 8px; font-weight:600;">Item Name</th>
                        <th style="padding:10px 8px; font-weight:600;">Category</th>
                        <th style="padding:10px 8px; font-weight:600;">Quantity</th>
                        <th style="padding:10px 8px; font-weight:600;">Unit</th>
                        <th style="padding:10px 8px; font-weight:600;">Status</th>
                        <th style="padding:10px 8px; font-weight:600;">Received Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom:1px solid #f3f4f6;">
                        <td style="padding:10px 8px; font-weight:600; color:#111827;">Rice Bags (50kg)</td>
                        <td style="padding:10px 8px;">Food</td>
                        <td style="padding:10px 8px;">45</td>
                        <td style="padding:10px 8px;">bags</td>
                        <td style="padding:10px 8px; color:#16a34a; font-weight:500;"><span style='font-size:1.1rem;'>&#10003;</span> Available</td>
                        <td style="padding:10px 8px;">5/25/2025</td>
                    </tr>
                    <tr>
                        <td style="padding:10px 8px; font-weight:600; color:#111827;">Medical Supplies Kit</td>
                        <td style="padding:10px 8px;">Healthcare</td>
                        <td style="padding:10px 8px;">12</td>
                        <td style="padding:10px 8px;">kits</td>
                        <td style="padding:10px 8px; color:#16a34a; font-weight:500;"><span style='font-size:1.1rem;'>&#10003;</span> Available</td>
                        <td style="padding:10px 8px;">5/25/2025</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="tab-content" style="display:none;">
    <div style="font-size: 2rem; font-weight: 700; margin-bottom: 18px; color: #111827;">Donor Relationship Management</div>
    <div style="display: flex; gap: 18px; margin-bottom: 24px; flex-wrap: wrap;">
        <div style="background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 22px 28px 18px 28px; flex: 1 1 220px; min-width: 220px; max-width: 260px; border: 1.5px solid #e5e7eb;">
            <div style="color: #374151; font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">Total Donors <span style='font-size:1.1rem; color:#6b7280;'>&#128101;</span></div>
            <div style="font-size: 2rem; font-weight: 700; color: #1d4ed8; margin-bottom: 2px;">156</div>
            <div style="color: #6b7280; font-size: 0.98rem;">+12 this month</div>
        </div>
        <div style="background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 22px 28px 18px 28px; flex: 1 1 220px; min-width: 220px; max-width: 260px; border: 1.5px solid #e5e7eb;">
            <div style="color: #374151; font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">Active Donors <span style='font-size:1.1rem; color:#16a34a;'>&#10003;</span></div>
            <div style="font-size: 2rem; font-weight: 700; color: #1d4ed8; margin-bottom: 2px;">134</div>
            <div style="color: #6b7280; font-size: 0.98rem;">86% retention</div>
        </div>
        <div style="background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 22px 28px 18px 28px; flex: 1 1 220px; min-width: 220px; max-width: 260px; border: 1.5px solid #e5e7eb;">
            <div style="color: #374151; font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">Total Raised <span style='font-size:1.1rem; color:#6b7280;'>&#128197;</span></div>
            <div style="font-size: 2rem; font-weight: 700; color: #1d4ed8; margin-bottom: 2px;">PKR 2.4M</div>
            <div style="color: #6b7280; font-size: 0.98rem;">This year</div>
        </div>
        <div style="background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 22px 28px 18px 28px; flex: 1 1 220px; min-width: 220px; max-width: 260px; border: 1.5px solid #e5e7eb;">
            <div style="color: #374151; font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">Avg Donation <span style='font-size:1.1rem; color:#6b7280;'>&#128197;</span></div>
            <div style="font-size: 2rem; font-weight: 700; color: #1d4ed8; margin-bottom: 2px;">PKR 15.4K</div>
            <div style="color: #6b7280; font-size: 0.98rem;">Per donor</div>
        </div>
    </div>
    <div style="background: #fff; border-radius: 10px; border: 1.5px solid #e5e7eb; padding: 24px 24px 18px 24px; margin-bottom: 28px;">
        <div style="font-size: 1.25rem; font-weight: 700; margin-bottom: 4px; color: #111827;">Donor Database</div>
        <div style="color: #6b7280; font-size: 1.05rem; margin-bottom: 18px;">Manage relationships with your donors</div>
        <div style="margin-bottom: 18px;">
            <input type="text" placeholder="Search donors..." style="width:100%; padding:10px 12px; border:1.5px solid #e5e7eb; border-radius:6px; font-size:1rem; background:#f9fafb;" />
        </div>
        <div style="overflow-x:auto;">
            <table style="width:100%; border-collapse:collapse; font-size:1.05rem;">
                <thead>
                    <tr style="color:#6b7280; text-align:left; border-bottom:1.5px solid #e5e7eb;">
                        <th style="padding:10px 8px; font-weight:600;">Name</th>
                        <th style="padding:10px 8px; font-weight:600;">Contact</th>
                        <th style="padding:10px 8px; font-weight:600;">Type</th>
                        <th style="padding:10px 8px; font-weight:600;">Total Donations</th>
                        <th style="padding:10px 8px; font-weight:600;">Last Donation</th>
                        <th style="padding:10px 8px; font-weight:600;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom:1px solid #f3f4f6;">
                        <td style="padding:10px 8px; font-weight:600; color:#111827;">Ahmed Ali Khan</td>
                        <td style="padding:10px 8px;">
                            <span style='color:#6b7280;'>&#9993;</span> ahmed.ali@email.com<br>
                            <span style='color:#6b7280;'>&#128222;</span> +92-300-1234567
                        </td>
                        <td style="padding:10px 8px;"><span style="background:#dcfce7; color:#16a34a; border-radius:8px; padding:4px 12px; font-size:0.98rem; font-weight:500;">Individual</span></td>
                        <td style="padding:10px 8px;">PKR 45,000</td>
                        <td style="padding:10px 8px;">2024-01-15</td>
                        <td style="padding:10px 8px;">
                            <button style="background:#fff; border:1.5px solid #e5e7eb; border-radius:6px; padding:6px 16px; font-size:1rem; font-weight:500; color:#111827; margin-right:6px; cursor:pointer;">View</button>
                            <button style="background:#fff; border:1.5px solid #e5e7eb; border-radius:6px; padding:6px 16px; font-size:1rem; font-weight:500; color:#111827; cursor:pointer;">Contact</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding:10px 8px; font-weight:600; color:#111827;">Fatima Foundation</td>
                        <td style="padding:10px 8px;">
                            <span style='color:#6b7280;'>&#9993;</span> contact@fatimafoundation.org<br>
                            <span style='color:#6b7280;'>&#128222;</span> +92-21-1234567
                        </td>
                        <td style="padding:10px 8px;"><span style="background:#e0e7ff; color:#3730a3; border-radius:8px; padding:4px 12px; font-size:0.98rem; font-weight:500;">Organization</span></td>
                        <td style="padding:10px 8px;">PKR 250,000</td>
                        <td style="padding:10px 8px;">2024-01-12</td>
                        <td style="padding:10px 8px;">
                            <button style="background:#fff; border:1.5px solid #e5e7eb; border-radius:6px; padding:6px 16px; font-size:1rem; font-weight:500; color:#111827; margin-right:6px; cursor:pointer;">View</button>
                            <button style="background:#fff; border:1.5px solid #e5e7eb; border-radius:6px; padding:6px 16px; font-size:1rem; font-weight:500; color:#111827; cursor:pointer;">Contact</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
